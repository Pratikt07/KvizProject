<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="/assets/css/Quizeeenterpin.css" />
        <!-- <script src="enterpin.js"></script> -->
    </head>
    <body>
        <div class="container container-fluid">
            <div class="row align-items-center justify-content-center" style="height: 100vh">
                <div class="col-3"></div>

                <div class="col-6 d-flex align-items-center justify-content-center" style="height: 100vh">
                    <div
                        class="row form align-items-center justify-content-center"
                        style="
                            background-color: #ffac81;
                            background-image: linear-gradient(315deg, #ffac81 0%, #ff928b 74%);
                            height: 40vh;
                            border-radius: 5px;
                            border: 0.125rem solid rgb(204, 204, 204);
                        "
                    >
                        <div>
                            <div style="text-align: center">
                                <span
                                    style="
                                        font-family: 'Potta One', cursive;
                                        color: rgb(255, 255, 255);
                                        margin: 30px;
                                        font-size: 70px;
                                        font-weight: 800;
                                    "
                                    >Kviz!</span
                                >
                            </div>
                            <form>
                                <input
                                    type="text"
                                    id="gamepin"
                                    style="
                                        height: 40px;
                                        width: 200px;
                                        border-radius: 5px;
                                        border-radius: 5px;
                                        box-shadow: 0 3px 7px rgb(34, 33, 33);
                                        padding: 20px;
                                        font-weight: 700;
                                        border: 0.125rem solid rgb(204, 204, 204);
                                        margin-bottom: 0.625rem;
                                        text-align: center;
                                        font-size: 1.25rem;
                                    "
                                    placeholder="Game Pin"
                                />

                                <div>
                                    <button
                                        type="submit"
                                        value="Submit"
                                        id="gamepinbtn"
                                        onclick="onhandlesubmit(event)"
                                        style="
                                            height: 40px;
                                            border-radius: 5px;
                                            font-size: 20px;
                                            font-weight: 700;
                                            color: rgb(255, 255, 255);
                                            background-color: rgb(51, 51, 51);
                                            box-shadow: 0 3px 7px rgb(34, 33, 33);
                                            width: 200px;
                                            margin-bottom: 0.625rem;
                                            text-align: center;
                                            font-size: 1.25rem;
                                        "
                                    >
                                        Enter
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-3 bg-success"></div>
            </div>
        </div>
    </body>
    <script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script>

    <script>
        let socket = io.connect('/');
        socket.on('connect', () => {
            console.log('connected to server');
        });

        socket.emit('whoami', function (message) {
            console.log(message);
        });

        async function onhandlesubmit(e) {
            e.preventDefault();
            let gamepin = document.getElementById('gamepin').value;
            console.log(gamepin);
            socket.emit('join', { roompin: gamepin, username: 'laxnp9@gmail.com' }, (response) => {
                console.log(response);
            });
        }

        socket.on('newMessage', function (message) {
            console.log(message);
        });
        socket.on('roomUsers', function (message) {
            console.log('roomUsers', message);
        });
        socket.on('doneUser', function (message) {
            console.log('doneUser', message);
        });
        socket.on('timer', function (message) {
            console.log('timer', message);
        });

        socket.on('disconnect', function () {
            // console.log("disconnected from server");
        });
    </script>
</html>
